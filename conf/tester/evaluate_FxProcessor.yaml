name: "2nd-order-Heun-unconditional" #same as the file name, try to do that for all testers

tester:
  _target_: 'testing.tester.Tester'

sampler:
  _target_: 'inference.sampler_euler_heun.SamplerEulerHeun'

modes: ["paired"] #modes to test


compute_metrics: True #if true, the metrics will be computed after sampling

metrics:
  - "pairwise-IM-mss-lr"
  - "pairwise-IM-mss-ms"
  - "pairwise-mss-lr"
  - "pairwise-mss-ms"
  - "pairwise-fxenc++"
  - "pairwise-logrms"
  - "pairwise-crestfactor"
  - "pairwise-logspread"
  - "pairwise-stereowidth"
  - "pairwise-stereoimbalance"

checkpoint: None

batch_size: 5 #batch size for sampling, should be 1 for conditional sampling

sampling_params:
  same_as_training: True #if true, the sampling parameters will be the same as the ones used for training (sigma_data, sigma_min, sigma_max and rho)
  sde_hp:
    sigma_data: 0.05 #default for maestro
    sigma_min: 1e-4
    sigma_max: 10 #this is sigma_start
    rho: 10
  Schurn: 10
  Snoise: 1
  Stmin: 0
  Stmax: 10
  order: 1 #order of the sampler (1 or 2)
  T: 101 #number of discretization steprs
  schedule: "edm" #"log": log schedule using the parameters in sampling_params

cfg_scale: 1.0

#experiment configuration for different testing modes

unconditional:
  num_samples: 1
  audio_len: 525312

fx_encoder_args:
  distance_type: "cosine" #distance metric to use for the fx encoder
  ckpt_path: "utils/feature_extractors/ckpt/fxenc_default.pt"
  
#AFxRep_args:
#  distance_type: "cosine" #distance metric to use for the AFxRep
#  ckpt_path: "/home/eloi/projects/project_mfm_eloi/src/tmp/afx-rep.ckpt"

FAD_args:
  do_PCA_figure: True #if True, the FAD figure will be computed

histogram_features_args:
  report_all_pairwise_metrics: True #if True, all pairwise metrics will be reported in the histogram features figure

fx_encoder_plusplus_args:
  distance_type: "cosine"
  ckpt_path: "checkpoints/fxenc_plusplus_default.pt"

KAD_args: 
  do_PCA_figure: True #if True, the FAD figure will be computed
  do_TSNE_figure: True #if True, the FAD figure will be computed
  kernel: "gaussian" #kernel to use for the KAD metric
  PCA_fit_mode: "target"


logrms_args:
  distance_type: "l1"

crestfactor_args:
  distance_type: "l1"

stereowidth_args:
  distance_type: "l1"

stereoimbalance_args:
  distance_type: "l1"

logspread_args:
  distance_type: "l1"

#logging configuration
wandb:
  use: True
  entity: "eloimoliner"
  project: "project_test_04_06"
  num_examples_to_log: 10
  log_every: 10
  run_name: "mapper"
  tags: Null
