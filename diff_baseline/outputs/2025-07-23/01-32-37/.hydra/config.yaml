dset:
  train:
    _target_: datasets.tency_mastering_multitrack_4instr_paired.TencyMastering
    mode: dry-wet
    segment_length: 262144
    fs: 44100
    stereo: true
    random_order: true
    random_polarity: true
    tracks: all
    path_csv: /data2/eloi/TencyMastering/PANNs_country_pop/train_split.csv
    normalize_params:
      normalize_mode: rms_dry
      rms_dry: -25
    num_examples: -1
    RMS_threshold_dB: -40.0
    seed: 42
  validation:
    _target_: datasets.tency_mastering_multitrack_4instr_paired.TencyMastering_Test
    mode: dry-wet
    segment_length: 262144
    fs: 44100
    stereo: true
    num_tracks: 8
    tracks: all
    path_csv: /data2/eloi/TencyMastering/PANNs_country_pop/val_split.csv
    normalize_params:
      normalize_mode: rms_dry
      rms_dry: -25
    num_examples: 16
    RMS_threshold_dB: -40.0
    seed: 42
  validation_2:
    _target_: datasets.tency_mastering_multitrack_4instr_paired.TencyMastering_Test
    mode: dry-wet-train
    segment_length: 262144
    fs: 44100
    stereo: true
    num_tracks: 8
    tracks: all
    path_csv: /data2/eloi/TencyMastering/PANNs_country_pop/train_split.csv
    normalize_params:
      normalize_mode: rms_dry
      rms_dry: -25
    num_examples: 16
    RMS_threshold_dB: -40.0
    seed: 42
  test:
    _target_: datasets.tency_mastering_multitrack_4instr_paired.TencyMastering_Test
    mode: dry-wet
    segment_length: 525312
    fs: 44100
    stereo: true
    tracks: all
    path_csv: /data2/eloi/TencyMastering/PANNs_country_pop/test_split.csv
    normalize_params:
      normalize_mode: rms_dry
      rms_dry: -25
    num_examples: 100
    RMS_threshold_dB: -40.0
    seed: 42
network:
  _target_: networks.ncsnpp_multitrack.NCSNppTime
  stft:
    n_fft: 1534
    hop_length: 384
    center: true
    onesided: true
    compression: 1
    N_pad_spec: 64
  nonlinearity: swish
  nf: 64
  ch_mult:
  - 1
  - 1
  - 2
  - 4
  - 4
  - 4
  num_res_blocks: 2
  attn_resolutions: []
  resamp_with_conv: true
  time_conditional: true
  fir: false
  fir_kernel:
  - 1
  - 3
  - 3
  - 1
  skip_rescale: true
  resblock_type: biggan
  progressive: output_skip
  progressive_input: input_skip
  progressive_combine: sum
  init_scale: 0.0
  fourier_scale: 16
  image_size: 256
  embedding_type: fourier
  input_channels: 20
  output_channels: 16
  spatial_channels: 1
  dropout: 0
  centered: true
  discriminative: false
diff_params:
  _target_: diff_params.edm.EDM
  type: ve_karras
  cfg_dropout_prob: 0.2
  sde_hp:
    sigma_data: 0.1
    sigma_min: 0.0005
    sigma_max: 20
    rho: 10
    max_sigma: 20
  default_shape:
  - 1
  - 4
  - 2
  - 262144
tester:
  name: 2nd-order-Heun-unconditional
  tester:
    _target_: testing.tester_multitrack.Tester
  sampler:
    _target_: inference.sampler_euler_heun_multitrack.SamplerEulerHeun
  modes:
  - conditional_dry_multitrack_4instr
  checkpoint: None
  compute_metrics: false
  metrics: []
  sampling_params:
    same_as_training: false
    sde_hp:
      sigma_data: 0.1
      sigma_min: 0.0005
      sigma_max: 20
      rho: 10
    Schurn: 0
    Snoise: 1
    Stmin: 0
    Stmax: 10
    order: 1
    T: 51
    schedule: edm
  cfg_scale: 1.0
  unconditional:
    num_samples: 1
    audio_len: 525312
  wandb:
    use: true
    num_examples_to_log: 16
    log_every: 10
    run_name: 2nd-order-Heun-unconditional
logging:
  log: true
  log_interval: 1000
  heavy_log_interval: 10000
  save_model: true
  save_interval: 10000
  remove_old_checkpoints: false
  num_sigma_bins: 10
  print_model_summary: false
  num_train_samples_to_log: 8
  log_spectrograms: false
  stft:
    win_size: 1024
    hop_size: 256
  wandb:
    entity: eloimoliner
    project: project_diff_baseline
model_dir: /data2/eloi/experiments_baselines/baseline_diffSTFT_dry
exp:
  exp_name: 1A_tencymastering_vocals
  trainer:
    _target_: training.trainer_ddp.Trainer
  optimizer:
    _target_: torch.optim.AdamW
    lr: 0.0001
    betas:
    - 0.9
    - 0.999
    eps: 1.0e-08
    weight_decay: 0.01
  lr_rampup_it: 1000
  scheduler_step_size: 60000
  scheduler_gamma: 0.8
  batch_size: 4
  val_batch_size: 4
  num_workers: 4
  seed: 1
  resume: true
  resume_checkpoint: None
  sample_rate: 44100
  stereo: true
  audio_len: 262144
  ema_rate: 0.9999
  ema_rampup: 10000
  use_grad_clip: true
  max_grad_norm: 1
  restore: false
  checkpoint_id: None
  align: false
  augmentations:
    list:
    - polarity
    polarity:
      prob: 0.5
  compile: false
